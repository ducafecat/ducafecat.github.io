<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            React 快速上手 - 07 前端路由 react-router | 
        
        东西
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",react">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="东西">
    <meta name="msapplication-starturl" content="http://yoursite.com/2018/05/24/07-react-fast-router/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="东西">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2018/05/24/07-react-fast-router/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="React 快速上手 - 07 前端路由 react-router | 东西">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="react"> 

    
        <meta property="article:published_time" content="Thu May 24 2018 09:49:20 GMT+0800">
        <meta property="article:modified_time" content="Thu May 24 2018 15:55:05 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2018/05/24/07-react-fast-router/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2018/05/24/07-react-fast-router/index.html",
    "headline": "React 快速上手 - 07 前端路由 react-router",
    "datePublished": "Thu May 24 2018 09:49:20 GMT+0800",
    "dateModified": "Thu May 24 2018 15:55:05 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "会煮咖啡的猫",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "东西",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",react",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#React-快速上手-07-前端路由-react-router"><span class="post-toc-number">1.</span> <span class="post-toc-text">React 快速上手 - 07 前端路由 react-router</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#目标"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">目标</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#环境"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">环境</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0-安装"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">0. 安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-先跑一个简单例子"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">1. 先跑一个简单例子</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-基础使用"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">2. 基础使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-BrowserRouter-还是-HashRouter"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">2.1 BrowserRouter 还是 HashRouter</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-组件-lt-Route-gt-属性-exact-完全匹配"><span class="post-toc-number">1.5.2.</span> <span class="post-toc-text">2.2 组件 &lt;Route&gt; 属性 exact 完全匹配</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-组件-lt-Route-gt-属性-strict-末尾斜杠的匹配"><span class="post-toc-number">1.5.3.</span> <span class="post-toc-text">2.3 组件 &lt;Route&gt; 属性 strict 末尾斜杠的匹配</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-组件-lt-Link-gt"><span class="post-toc-number">1.5.4.</span> <span class="post-toc-text">2.4 组件 &lt;Link&gt;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-6-组件-lt-Switch-gt"><span class="post-toc-number">1.5.5.</span> <span class="post-toc-text">2.6 组件 &lt;Switch&gt;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-7-组件-lt-Redirect-gt"><span class="post-toc-number">1.5.6.</span> <span class="post-toc-text">2.7 组件 &lt;Redirect&gt;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-8-组件-lt-Prompt-gt"><span class="post-toc-number">1.5.7.</span> <span class="post-toc-text">2.8 组件 &lt;Prompt&gt;</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-参数传递"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">3. 参数传递</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-编写路由定义"><span class="post-toc-number">1.6.1.</span> <span class="post-toc-text">3.1 编写路由定义</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-编写接收组件"><span class="post-toc-number">1.6.2.</span> <span class="post-toc-text">3.2 编写接收组件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-完整例子"><span class="post-toc-number">1.6.3.</span> <span class="post-toc-text">3.3 完整例子</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-没有匹配"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">4. 没有匹配</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-嵌套路由"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">5. 嵌套路由</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-自定义路由"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">6. 自定义路由</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-1-创建自定义-Route"><span class="post-toc-number">1.9.1.</span> <span class="post-toc-text">6.1 创建自定义 Route</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-2-使用自定义路由"><span class="post-toc-number">1.9.2.</span> <span class="post-toc-text">6.2 使用自定义路由</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-转换动画"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">7. 转换动画</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-1-安装"><span class="post-toc-number">1.10.1.</span> <span class="post-toc-text">7.1 安装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-2-编写动画-css"><span class="post-toc-number">1.10.2.</span> <span class="post-toc-text">7.2 编写动画 css</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-3-导入包和动画样式"><span class="post-toc-number">1.10.3.</span> <span class="post-toc-text">7.3 导入包和动画样式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-4-编写样式"><span class="post-toc-number">1.10.4.</span> <span class="post-toc-text">7.4 编写样式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-5-编写导航"><span class="post-toc-number">1.10.5.</span> <span class="post-toc-text">7.5 编写导航</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-6-编写展示组件"><span class="post-toc-number">1.10.6.</span> <span class="post-toc-text">7.6 编写展示组件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-7-编写容器组件"><span class="post-toc-number">1.10.7.</span> <span class="post-toc-text">7.7 编写容器组件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#代码"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">代码</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考"><span class="post-toc-number">1.12.</span> <span class="post-toc-text">参考</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://oflimcy5e.bkt.clouddn.com/reactjs-logo-2.jpeg)">
    
            <p class="article-headline-p">
                React 快速上手 - 07 前端路由 react-router
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>会煮咖啡的猫</strong>
        <span>5月 24, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/react/">react</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=React 快速上手 - 07 前端路由 react-router&url=http://yoursite.com/2018/05/24/07-react-fast-router/index.html&pic=http://yoursite.com/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=React 快速上手 - 07 前端路由 react-router&url=http://yoursite.com/2018/05/24/07-react-fast-router/index.html&via=会煮咖啡的猫" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/05/24/07-react-fast-router/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2018/05/24/07-react-fast-router/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="React-快速上手-07-前端路由-react-router"><a href="#React-快速上手-07-前端路由-react-router" class="headerlink" title="React 快速上手 - 07 前端路由 react-router"></a>React 快速上手 - 07 前端路由 react-router</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><ul>
<li>基础使用</li>
<li>参数传递</li>
<li>路由匹配</li>
<li>转换动画</li>
<li>跳转路由</li>
</ul>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul>
<li>react 16</li>
<li>react-router 4</li>
<li>react-router-dom 4</li>
<li>react-transition-group</li>
</ul>
<h2 id="0-安装"><a href="#0-安装" class="headerlink" title="0. 安装"></a>0. 安装</h2><p><img src="http://oflimcy5e.bkt.clouddn.com/ducafecat_2018-05-24-10-14-20.png" alt="react-router"></p>
<p>通过官网我们可以发现 <code>react-router</code> 可以用在 <code>web 网站端</code> <code>native 设备端</code></p>
<p>我们这里针对 <code>web 网站端</code> 安装</p>
<pre><code class="bash">yarn add react-router-dom
</code></pre>
<p><code>react-router</code> 会包自动依赖安装</p>
<h2 id="1-先跑一个简单例子"><a href="#1-先跑一个简单例子" class="headerlink" title="1. 先跑一个简单例子"></a>1. 先跑一个简单例子</h2><ul>
<li>代码示范</li>
</ul>
<pre><code class="js">import React, {Component} from &#39;react&#39;
import {HashRouter as Router, Route, Link, Switch} from &#39;react-router-dom&#39;

const Home = () =&gt; (
  &lt;div&gt;
    &lt;h2&gt;首页&lt;/h2&gt;
  &lt;/div&gt;
)
const About = () =&gt; (
  &lt;div&gt;
    &lt;h2&gt;关于&lt;/h2&gt;
  &lt;/div&gt;
)

class RouterView extends Component {
  render() {
    return (
      &lt;Router&gt;
        &lt;div&gt;
          &lt;ul&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/&quot;&gt;首页&lt;/Link&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/about&quot;&gt;关于&lt;/Link&gt;
            &lt;/li&gt;
          &lt;/ul&gt;

          &lt;Switch&gt;
            &lt;Route exact path=&quot;/&quot; component={Home} /&gt;
            &lt;Route path=&quot;/about&quot; component={About} /&gt;
          &lt;/Switch&gt;
        &lt;/div&gt;
      &lt;/Router&gt;
    )
  }
}

export default RouterView
</code></pre>
<ul>
<li>代码结构</li>
</ul>
<blockquote>
<p>最外层需要包裹组件 <code>&lt;Router&gt;</code><br>组件 <code>&lt;Route&gt;</code> 就是你看到的组件内容，放在哪里就哪里显示<br>组件 <code>&lt;Link&gt;</code> 是页面链接</p>
</blockquote>
<ul>
<li>动图说明</li>
</ul>
<p><img src="http://oflimcy5e.bkt.clouddn.com/react-router-1.gif" alt="基础路由"></p>
<ul>
<li>codepen</li>
</ul>
<p><a href="https://codepen.io/ducafecat/pen/GdBPqZ" target="_blank" rel="noopener">https://codepen.io/ducafecat/pen/GdBPqZ</a></p>
<h2 id="2-基础使用"><a href="#2-基础使用" class="headerlink" title="2. 基础使用"></a>2. 基础使用</h2><h3 id="2-1-BrowserRouter-还是-HashRouter"><a href="#2-1-BrowserRouter-还是-HashRouter" class="headerlink" title="2.1 BrowserRouter 还是 HashRouter"></a>2.1 <code>BrowserRouter</code> 还是 <code>HashRouter</code></h3><ul>
<li><code>BrowserRouter</code> 是需要服务端配合, 是基于html5的pushState和replaceState的，很多浏览器不支持，存在兼容性问题。</li>
</ul>
<blockquote>
<p>链接地址长这样 <code>http://localhost:3000/about</code></p>
</blockquote>
<ul>
<li><code>HashRouter</code> 是浏览器端解析路由</li>
</ul>
<blockquote>
<p>链接地址长这样 <code>http://localhost:3000#/about</code></p>
</blockquote>
<ul>
<li>灵活切换</li>
</ul>
<pre><code class="js">import {HashRouter as Router, Route, Link, Switch} from &#39;react-router-dom&#39;
//import {BrowserRouter as Router, Route, Link, Switch} from &#39;react-router-dom&#39;

&lt;Router&gt;
  ...
&lt;/Router&gt;
</code></pre>
<blockquote>
<p>我用 <code>as Router</code> 做了别名，方便切换</p>
</blockquote>
<h3 id="2-2-组件-lt-Route-gt-属性-exact-完全匹配"><a href="#2-2-组件-lt-Route-gt-属性-exact-完全匹配" class="headerlink" title="2.2 组件 &lt;Route&gt; 属性 exact 完全匹配"></a>2.2 组件 <code>&lt;Route&gt;</code> 属性 <code>exact</code> 完全匹配</h3><pre><code class="js">&lt;Route path=&quot;/about&quot; component={About} /&gt;
</code></pre>
<p><code>exact=false</code> 的时候 <code>path</code> 等于 <code>/about</code> <code>/about/me</code> 都能匹配</p>
<p>但是 <code>exact=true</code> 的时候 只匹配 <code>path</code> 等于 <code>/about</code></p>
<h3 id="2-3-组件-lt-Route-gt-属性-strict-末尾斜杠的匹配"><a href="#2-3-组件-lt-Route-gt-属性-strict-末尾斜杠的匹配" class="headerlink" title="2.3 组件 &lt;Route&gt; 属性 strict 末尾斜杠的匹配"></a>2.3 组件 <code>&lt;Route&gt;</code> 属性 <code>strict</code> 末尾斜杠的匹配</h3><pre><code class="js">&lt;Route strict path=&quot;/about/&quot; component={About} /&gt;
</code></pre>
<p>当 <code>strict=true</code> 路由请求末尾必须带 <code>/</code></p>
<h3 id="2-4-组件-lt-Link-gt"><a href="#2-4-组件-lt-Link-gt" class="headerlink" title="2.4 组件 &lt;Link&gt;"></a>2.4 组件 <code>&lt;Link&gt;</code></h3><p>生成路由链接</p>
<ul>
<li>属性 <code>to: string</code></li>
</ul>
<p>路由地址字符串</p>
<pre><code class="js">&lt;Link to=&quot;/about?me=haha&quot;&gt;关于&lt;/Link&gt;
</code></pre>
<ul>
<li>属性 <code>to: object</code></li>
</ul>
<p>路由对象</p>
<pre><code class="js">&lt;Link to={{
  pathname: '/courses',
  search: '?sort=name',
  hash: '#the-hash',
  state: { fromDashboard: true }>关于
```

* 属性 `replace: bool`

设置 `true` 替换浏览器对象 `history` 为当前路由，按回退按钮时会发现之前的路由被替换了

### 2.5 组件 `<navlink>`

生成路由链接的基础上，如果是当前路由设置激活样式

* 属性 `activeClassName: string`

样式名称

```js
<navlink to="/about" activeclassname="selected">关于</navlink>
```

* 属性 `activeStyle: object`

样式对象

```js
<navlink to="/about" activestyle="{{" fontweight:="" 'bold',="" color:="" 'red'="" }}&gt;关于&lt;="" navlink&gt;="" <="" code=""></navlink></navlink></code></pre>
<ul>
<li>属性 <code>isActive: func</code></li>
</ul>
<p>判断函数</p>
<pre><code class="js">const checkIsActive = (match, location) =&gt; {
  if (!match) {
    return false
  }
  ...
  return true
}

&lt;NavLink to=&quot;/about&quot; isActive={checkIsActive}&gt;关于&lt;/NavLink&gt;
</code></pre>
<h3 id="2-6-组件-lt-Switch-gt"><a href="#2-6-组件-lt-Switch-gt" class="headerlink" title="2.6 组件 &lt;Switch&gt;"></a>2.6 组件 <code>&lt;Switch&gt;</code></h3><p>只渲染出第一个与当前访问地址匹配的 <code>&lt;Route&gt;</code> 或 <code>&lt;Redirect&gt;</code></p>
<p>否则你有几个 <code>&lt;Route&gt;</code> 都会显示</p>
<h3 id="2-7-组件-lt-Redirect-gt"><a href="#2-7-组件-lt-Redirect-gt" class="headerlink" title="2.7 组件 &lt;Redirect&gt;"></a>2.7 组件 <code>&lt;Redirect&gt;</code></h3><p>路由重定向</p>
<pre><code class="js">&lt;Switch&gt;
  &lt;Redirect from=&#39;/users/:id&#39; to=&#39;/users/profile/:id&#39;/&gt;
  &lt;Route path=&#39;/users/profile/:id&#39; component={Profile}/&gt;
&lt;/Switch&gt;
</code></pre>
<p>当请求 <code>/users/:id</code> 被重定向去 ‘/users/profile/:id’</p>
<ul>
<li>属性 <code>from: string</code></li>
</ul>
<p>需要匹配的将要被重定向路径。</p>
<ul>
<li>属性 <code>to: string</code></li>
</ul>
<p>重定向的 URL 字符串</p>
<ul>
<li>属性 <code>to: object</code></li>
</ul>
<p>重定向的 location 对象</p>
<ul>
<li>属性 <code>push: bool</code></li>
</ul>
<p>若为真，重定向操作将会把新地址加入到访问历史记录里面，并且无法回退到前面的页面。</p>
<h3 id="2-8-组件-lt-Prompt-gt"><a href="#2-8-组件-lt-Prompt-gt" class="headerlink" title="2.8 组件 &lt;Prompt&gt;"></a>2.8 组件 <code>&lt;Prompt&gt;</code></h3><p>当用户离开当前页面前做出一些提示。</p>
<ul>
<li>属性 <code>message: string</code><br>当用户离开当前页面时，设置的提示信息。</li>
</ul>
<pre><code class="js">&lt;Prompt message=&quot;确定要离开？&quot; /&gt;
</code></pre>
<p><img src="http://oflimcy5e.bkt.clouddn.com/ducafecat_2018-05-24-13-13-17.png" alt="Prompt"></p>
<ul>
<li>属性 <code>message: func</code></li>
</ul>
<p>当用户离开当前页面时，设置的回掉函数</p>
<pre><code class="js">&lt;Prompt message={location =&gt; `确定要去 ${location.pathname} ?`} /&gt;
</code></pre>
<p><img src="http://oflimcy5e.bkt.clouddn.com/ducafecat_2018-05-24-13-17-14.png" alt="Prompt-func"></p>
<ul>
<li>属性 <code>when: bool</code></li>
</ul>
<p>决定是否启用 Prompt</p>
<h2 id="3-参数传递"><a href="#3-参数传递" class="headerlink" title="3. 参数传递"></a>3. 参数传递</h2><h3 id="3-1-编写路由定义"><a href="#3-1-编写路由定义" class="headerlink" title="3.1 编写路由定义"></a>3.1 编写路由定义</h3><pre><code class="js">&lt;Route path=&quot;/topics/:topicId&quot; component={Topic} /&gt;
</code></pre>
<p><code>:topicId</code> 定义参数</p>
<h3 id="3-2-编写接收组件"><a href="#3-2-编写接收组件" class="headerlink" title="3.2 编写接收组件"></a>3.2 编写接收组件</h3><pre><code class="js">const Topic = ({match}) =&gt; (
  &lt;div&gt;
    &lt;h3&gt;参数: {match.params.topicId}&lt;/h3&gt;
  &lt;/div&gt;
)
</code></pre>
<p><code>match.params</code> 就是传递的参数</p>
<h3 id="3-3-完整例子"><a href="#3-3-完整例子" class="headerlink" title="3.3 完整例子"></a>3.3 完整例子</h3><p>代码</p>
<pre><code class="js">import React, {Component} from &#39;react&#39;
import {BrowserRouter as Router, Route, Link, Switch} from &#39;react-router-dom&#39;

const Topic = ({match}) =&gt; (
  &lt;div&gt;
    &lt;h3&gt;参数: {match.params.topicId}&lt;/h3&gt;
  &lt;/div&gt;
)

class RouterView extends Component {
  render() {
    return (
      &lt;Router&gt;
        &lt;div&gt;
          &lt;ul&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/topics/rendering&quot;&gt;Rendering with React&lt;/Link&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/topics/components&quot;&gt;Components&lt;/Link&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/topics/props-v-state&quot;&gt;Props v. State&lt;/Link&gt;
            &lt;/li&gt;
          &lt;/ul&gt;

          &lt;Switch&gt;
            &lt;Route path=&quot;/topics/:topicId&quot; component={Topic} /&gt;
          &lt;/Switch&gt;
        &lt;/div&gt;
      &lt;/Router&gt;
    )
  }
}

export default RouterView
</code></pre>
<p>动图效果</p>
<p><img src="http://oflimcy5e.bkt.clouddn.com/react-router-2.gif" alt="参数传递"></p>
<h2 id="4-没有匹配"><a href="#4-没有匹配" class="headerlink" title="4. 没有匹配"></a>4. 没有匹配</h2><p>代码</p>
<pre><code class="js">import React, {Component} from &#39;react&#39;
import {BrowserRouter as Router, Route, Link, Switch} from &#39;react-router-dom&#39;

const Back = () =&gt; (
  &lt;div&gt;
    &lt;h2&gt;首页&lt;/h2&gt;
  &lt;/div&gt;
)

const NoMatch = () =&gt; (
  &lt;div&gt;
    &lt;h2&gt;没有匹配&lt;/h2&gt;
  &lt;/div&gt;
)

class RouterView extends Component {
  render() {
    return (
      &lt;Router&gt;
        &lt;div&gt;
          &lt;ul&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/back&quot;&gt;返回&lt;/Link&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;Link to=&quot;/also/will/not/match&quot;&gt;路由请求&lt;/Link&gt;
            &lt;/li&gt;
          &lt;/ul&gt;

          &lt;Switch&gt;
            &lt;Route path=&quot;/back&quot; component={Back} /&gt;
            &lt;Route component={NoMatch} /&gt;
          &lt;/Switch&gt;
        &lt;/div&gt;
      &lt;/Router&gt;
    )
  }
}

export default RouterView
</code></pre>
<blockquote>
<p>在最下面写个默认组件，都没命中，就是这个了</p>
</blockquote>
<p>动图效果</p>
<p><img src="http://oflimcy5e.bkt.clouddn.com/react-router-3.gif" alt="没有匹配"></p>
<h2 id="5-嵌套路由"><a href="#5-嵌套路由" class="headerlink" title="5. 嵌套路由"></a>5. 嵌套路由</h2><p>在 <code>react-route4</code> 中嵌套要这样写</p>
<pre><code class="js">&lt;Switch&gt;
  &lt;Route path=&quot;/article&quot; component={ArticleList} /&gt;
  &lt;Route path=&quot;/article/:id&quot; component={Article} /&gt;
  &lt;Route path=&quot;/article/:id/recommend&quot; component={ArticleRecommend} /&gt;
&lt;/Switch&gt;
</code></pre>
<p>写成一排，业务如下</p>
<table>
<thead>
<tr>
<th>path</th>
<th>组件</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>/article</td>
<td>ArticleList</td>
<td>文章列表</td>
</tr>
<tr>
<td>/article/:id</td>
<td>Article</td>
<td>文章</td>
</tr>
<tr>
<td>/article/:id/recommend</td>
<td>ArticleRecommend</td>
<td>文章推荐</td>
</tr>
</tbody>
</table>
<h2 id="6-自定义路由"><a href="#6-自定义路由" class="headerlink" title="6. 自定义路由"></a>6. 自定义路由</h2><p>适合用来做权限检查</p>
<h3 id="6-1-创建自定义-Route"><a href="#6-1-创建自定义-Route" class="headerlink" title="6.1 创建自定义 Route"></a>6.1 创建自定义 <code>Route</code></h3><pre><code class="js">const isAuthenticated = true
const PrivateRoute = ({ component: Component, ...rest }) =&gt; (
  &lt;Route
    {...rest}
    render={props =&gt;
      isAuthenticated ? (
        &lt;Component {...props} /&gt;
      ) : (
        &lt;Redirect
          to={{
            pathname: "/login",
            state: { from: props.location }
          }}
        /&gt;
      )
    }
  /&gt;
);
</code></pre>
<h3 id="6-2-使用自定义路由"><a href="#6-2-使用自定义路由" class="headerlink" title="6.2 使用自定义路由"></a>6.2 使用自定义路由</h3><pre><code class="js">...
&lt;Route path=&quot;/public&quot; component={Public} /&gt;
&lt;Route path=&quot;/login&quot; component={Login} /&gt;
&lt;PrivateRoute path=&quot;/protected&quot; component={Protected} /&gt;
</code></pre>
<h2 id="7-转换动画"><a href="#7-转换动画" class="headerlink" title="7. 转换动画"></a>7. 转换动画</h2><p>这里用到了 <code>react-transition-group</code> 库</p>
<p>动图效果</p>
<p><img src="http://oflimcy5e.bkt.clouddn.com/react-router-4.gif" alt="转换动画"></p>
<h3 id="7-1-安装"><a href="#7-1-安装" class="headerlink" title="7.1 安装"></a>7.1 安装</h3><pre><code class="js">yarn add react-transition-group
</code></pre>
<h3 id="7-2-编写动画-css"><a href="#7-2-编写动画-css" class="headerlink" title="7.2 编写动画 css"></a>7.2 编写动画 <code>css</code></h3><p>文件 <code>fade.css</code></p>
<pre><code class="css">.fade-enter {
  opacity: 0;
  z-index: 1;
}

.fade-enter-active {
  opacity: 1;
  transition: opacity 250ms ease-in;
}

.fade-exit {
  opacity: 0;
}
</code></pre>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>fade-enter</td>
<td>动画启动</td>
</tr>
<tr>
<td>fade-enter-active</td>
<td>动画激活</td>
</tr>
<tr>
<td>fade-exit</td>
<td>动画离开</td>
</tr>
</tbody>
</table>
<p>其它动画样式名字可以参考 <a href="http://reactcommunity.org/react-transition-group/css-transition" target="_blank" rel="noopener">css-transition</a></p>
<h3 id="7-3-导入包和动画样式"><a href="#7-3-导入包和动画样式" class="headerlink" title="7.3 导入包和动画样式"></a>7.3 导入包和动画样式</h3><pre><code class="js">...
import {TransitionGroup, CSSTransition} from &#39;react-transition-group&#39;
import &#39;./fade.css&#39;
</code></pre>
<p><code>TransitionGroup, CSSTransition</code> 必须导入</p>
<h3 id="7-4-编写样式"><a href="#7-4-编写样式" class="headerlink" title="7.4 编写样式"></a>7.4 编写样式</h3><pre><code class="js">const styles = {}

styles.fill = {
  position: &#39;relative&#39;,
  height: &#39;200px&#39;,
  width: &#39;500px&#39;
}

styles.content = {
  ...styles.fill,
  top: &#39;40px&#39;,
  textAlign: &#39;center&#39;,
  height: &#39;120px&#39;
}

styles.nav = {
  padding: 0,
  margin: 0,
  position: &#39;absolute&#39;,
  top: 0,
  height: &#39;40px&#39;,
  width: &#39;100%&#39;,
  display: &#39;flex&#39;
}

styles.navItem = {
  textAlign: &#39;center&#39;,
  flex: 1,
  listStyleType: &#39;none&#39;,
  padding: &#39;10px&#39;
}

styles.hsl = {
  color: &#39;white&#39;,
  paddingTop: &#39;20px&#39;,
  fontSize: &#39;30px&#39;,
  height: &#39;120px&#39;
}

styles.rgb = {
  color: &#39;white&#39;,
  paddingTop: &#39;20px&#39;,
  fontSize: &#39;30px&#39;,
  height: &#39;120px&#39;
}
</code></pre>
<p>这是 <code>react</code> 的样式对象，当然你也可以写成 <code>.css</code> 文件</p>
<h3 id="7-5-编写导航"><a href="#7-5-编写导航" class="headerlink" title="7.5 编写导航"></a>7.5 编写导航</h3><pre><code class="js">const NavLink = props =&gt; (
  &lt;li style={styles.navItem}&gt;
    &lt;Link {...props} style={{color: 'inherit'}} /&gt;
  &lt;/li&gt;
)
</code></pre>
<h3 id="7-6-编写展示组件"><a href="#7-6-编写展示组件" class="headerlink" title="7.6 编写展示组件"></a>7.6 编写展示组件</h3><pre><code class="js">// 切换区域 A
const HSL = ({match: {params}}) =&gt; (
  &lt;div
    style={{
      ...styles.fill,
      ...styles.hsl,
      background: `hsl(${params.h}, ${params.s}%, ${params.l}%)`
    }}
  &gt;
    hsl({params.h}, {params.s}%, {params.l}%)
  &lt;/div&gt;
)

// 切换区域 B
const RGB = ({match: {params}}) =&gt; (
  &lt;div
    style={{
      ...styles.fill,
      ...styles.rgb,
      background: `rgb(${params.r}, ${params.g}, ${params.b})`
    }}
  &gt;
    rgb({params.r}, {params.g}, {params.b})
  &lt;/div&gt;
)
</code></pre>
<h3 id="7-7-编写容器组件"><a href="#7-7-编写容器组件" class="headerlink" title="7.7 编写容器组件"></a>7.7 编写容器组件</h3><pre><code class="js">const RouterView = () =&gt; (
  &lt;Router&gt;
    &lt;Route
      render={({location}) =&gt; (
        &lt;div style={styles.fill}&gt;
          &lt;Route
            exact
            path=&quot;/&quot;
            render={() =&gt; &lt;Redirect to=&quot;/hsl/10/90/50&quot; /&gt;}
          /&gt;

          &lt;ul style={styles.nav}&gt;
            &lt;NavLink to=&quot;/hsl/10/90/50&quot;&gt;Red&lt;/NavLink&gt;
            &lt;NavLink to=&quot;/hsl/120/100/40&quot;&gt;Green&lt;/NavLink&gt;
            &lt;NavLink to=&quot;/rgb/33/150/243&quot;&gt;Blue&lt;/NavLink&gt;
            &lt;NavLink to=&quot;/rgb/240/98/146&quot;&gt;Pink&lt;/NavLink&gt;
          &lt;/ul&gt;

          &lt;div style={styles.content}&gt;
            &lt;TransitionGroup&gt;
              &lt;CSSTransition key={location.key} classNames=&quot;fade&quot; timeout={300}&gt;
                &lt;Switch location={location}&gt;
                  &lt;Route exact path=&quot;/hsl/:h/:s/:l&quot; component={HSL} /&gt;
                  &lt;Route exact path=&quot;/rgb/:r/:g/:b&quot; component={RGB} /&gt;
                  &lt;Route render={() =&gt; &lt;div&gt;Not Found&lt;/div&gt;} /&gt;
                &lt;/Switch&gt;
              &lt;/CSSTransition&gt;
            &lt;/TransitionGroup&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}
    /&gt;
  &lt;/Router&gt;
)
</code></pre>
<ul>
<li>codepen</li>
</ul>
<p><a href="https://codepen.io/ducafecat/pen/rvroYP" target="_blank" rel="noopener">https://codepen.io/ducafecat/pen/rvroYP</a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><ul>
<li><a href="https://github.com/ducafecat/reactjs-example/blob/master/src/base/5-1-routerBase.js" target="_blank" rel="noopener">reactjs-example / 5-1-routerBase</a></li>
<li><a href="https://github.com/ducafecat/reactjs-example/blob/master/src/base/5-2-routerParams.js" target="_blank" rel="noopener">reactjs-example / 5-2-routerParams</a></li>
<li><a href="https://github.com/ducafecat/reactjs-example/blob/master/src/base/5-3-routerNoMatch.js" target="_blank" rel="noopener">reactjs-example / 5-3-routerNoMatch</a></li>
<li><a href="https://github.com/ducafecat/reactjs-example/blob/master/src/base/5-4-routerTransitions.js" target="_blank" rel="noopener">reactjs-example / 5-4-routerTransitions</a></li>
<li><a href="https://github.com/ducafecat/reactjs-example/blob/master/src/base/5-5-routerRedirect.js" target="_blank" rel="noopener">reactjs-example / 5-5-routerRedirect</a></li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener">react-router</a></li>
<li><a href="http://reactcommunity.org/react-transition-group/" target="_blank" rel="noopener">react-transition-group</a></li>
<li><a href="https://serverless-stack.com/chapters/code-splitting-in-create-react-app.html" target="_blank" rel="noopener">code-splitting-in-create-react-app</a></li>
</ul>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/05/23/06-react-fast-component/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="会煮咖啡的猫's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        youremail@email.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">8</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/GraphQL-渐进学习/">GraphQL 渐进学习<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/React-快速上手/">React 快速上手<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/node/">node<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>东西
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
